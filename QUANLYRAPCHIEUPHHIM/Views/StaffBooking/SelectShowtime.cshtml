@model IEnumerable<QUANLYRAPCHIEUPHHIM.Models.Showtime>
@{
    ViewData["Title"] = "Chọn suất chiếu - Đặt vé";
    Layout = "_Layout";
}

<div class="container mt-4">
    <div class="card shadow-sm">
        <div class="card-header bg-primary text-white">
            <div class="d-flex justify-content-between align-items-center">
                <h4 class="mb-0">Chọn suất chiếu</h4>
                <a asp-controller="StaffBooking" asp-action="SelectMovie" class="btn btn-sm btn-light">
                    <i class="fas fa-arrow-left"></i> Quay lại
                </a>
            </div>
        </div>
        <div class="card-body">
            <!-- Thông tin phim đã chọn -->
            <div class="row mb-4">
                <div class="col-md-3">
                    <img src="https://via.placeholder.com/150x225" class="img-fluid rounded" alt="Tên phim">
                </div>
                <div class="col-md-9">
                    <h3>Avengers: Endgame</h3>
                    <p><strong>Thể loại:</strong> Hành động, Viễn tưởng</p>
                    <p><strong>Đạo diễn:</strong> Anthony Russo, Joe Russo</p>
                    <p><strong>Thời lượng:</strong> 181 phút</p>
                    <p><strong>Khởi chiếu:</strong> 26/04/2019</p>
                    <p><strong>Nội dung:</strong> Sau sự kiện hủy diệt tàn khốc, vũ trụ chìm trong cảnh hoang tàn. Với sự giúp đỡ của những đồng minh còn sống sót, các Avengers tập hợp một lần nữa để đảo ngược hành động của Thanos và khôi phục lại sự cân bằng cho vũ trụ.</p>
                </div>
            </div>

            <!-- Chọn ngày -->
            <div class="row mb-3">
                <div class="col-12">
                    <h5>Chọn ngày:</h5>
                    <div class="btn-group date-selector">
                        <button type="button" class="btn btn-outline-primary active">Hôm nay</button>
                        <button type="button" class="btn btn-outline-primary">Ngày mai</button>
                        <button type="button" class="btn btn-outline-primary">27/11/2023</button>
                        <button type="button" class="btn btn-outline-primary">28/11/2023</button>
                        <button type="button" class="btn btn-outline-primary">29/11/2023</button>
                        <button type="button" class="btn btn-outline-primary">30/11/2023</button>
                        <button type="button" class="btn btn-outline-primary">01/12/2023</button>
                    </div>
                </div>
            </div>

            <!-- Chọn rạp -->
            <div class="row mb-3">
                <div class="col-12">
                    <h5>Chọn rạp:</h5>
                    <select class="form-control">
                        <option>Tất cả các rạp</option>
                        <option>CGV Vincom Center Bà Triệu</option>
                        <option>CGV Aeon Mall Long Biên</option>
                        <option>CGV Mipec Tower</option>
                        <option>CGV Times City</option>
                    </select>
                </div>
            </div>

            <!-- Danh sách suất chiếu -->
            <div class="row mb-3">
                <div class="col-12">
                    <h5>Chọn suất chiếu:</h5>
                    <div class="card mb-3">
                        <div class="card-header bg-light">
                            <strong>CGV Vincom Center Bà Triệu</strong>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-3 mb-2">
                                    <a asp-controller="StaffBooking" asp-action="SelectSeats" asp-route-showtimeId="1" class="btn btn-outline-primary showtime-btn">
                                        09:30 - Screen 1 - 2D
                                    </a>
                                </div>
                                <div class="col-md-3 mb-2">
                                    <a asp-controller="StaffBooking" asp-action="SelectSeats" asp-route-showtimeId="2" class="btn btn-outline-primary showtime-btn">
                                        12:45 - Screen 2 - 3D
                                    </a>
                                </div>
                                <div class="col-md-3 mb-2">
                                    <a asp-controller="StaffBooking" asp-action="SelectSeats" asp-route-showtimeId="3" class="btn btn-outline-primary showtime-btn">
                                        16:30 - Screen 1 - 2D
                                    </a>
                                </div>
                                <div class="col-md-3 mb-2">
                                    <a asp-controller="StaffBooking" asp-action="SelectSeats" asp-route-showtimeId="4" class="btn btn-outline-primary showtime-btn">
                                        20:15 - Screen 3 - IMAX
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card mb-3">
                        <div class="card-header bg-light">
                            <strong>CGV Aeon Mall Long Biên</strong>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-3 mb-2">
                                    <a asp-controller="StaffBooking" asp-action="SelectSeats" asp-route-showtimeId="5" class="btn btn-outline-primary showtime-btn">
                                        10:00 - Screen 1 - 2D
                                    </a>
                                </div>
                                <div class="col-md-3 mb-2">
                                    <a asp-controller="StaffBooking" asp-action="SelectSeats" asp-route-showtimeId="6" class="btn btn-outline-primary showtime-btn">
                                        13:30 - Screen 2 - 3D
                                    </a>
                                </div>
                                <div class="col-md-3 mb-2">
                                    <a asp-controller="StaffBooking" asp-action="SelectSeats" asp-route-showtimeId="7" class="btn btn-outline-primary showtime-btn">
                                        17:45 - Screen 3 - 4DX
                                    </a>
                                </div>
                                <div class="col-md-3 mb-2">
                                    <a asp-controller="StaffBooking" asp-action="SelectSeats" asp-route-showtimeId="8" class="btn btn-outline-primary showtime-btn">
                                        21:00 - Screen 2 - 3D
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section Styles {
    <style>
        .date-selector .btn {
            margin-right: 5px;
        }
        
        .showtime-btn {
            width: 100%;
            margin-bottom: 10px;
        }
    </style>
}

@section Scripts {
    <script>
        $(document).ready(function() {
            // Xử lý chọn ngày
            $('.date-selector .btn').click(function() {
                $('.date-selector .btn').removeClass('active');
                $(this).addClass('active');
            });
        });
    </script>
} 