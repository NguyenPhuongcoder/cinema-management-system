@model QUANLYRAPCHIEUPHHIM.Models.ViewModels.TicketConfirmationViewModel
@{
    ViewData["Title"] = "Chi tiết vé - Đặt vé";
    Layout = "_Layout";
}

<div class="container mt-4">
    <div class="card shadow-sm">
        <div class="card-header bg-primary text-white">
            <h4 class="mb-0 text-center"><i class="fas fa-ticket-alt me-2"></i> Chi tiết vé</h4>
        </div>
        <div class="card-body">
            <div class="text-center mb-4">
                <i class="fas fa-ticket-alt fa-5x text-primary mb-3"></i>
                <h5>Mã đặt vé: <strong>@Model.TicketCode</strong></h5>
                <p class="text-muted">Thông tin chi tiết về vé đã đặt</p>
            </div>

            <div class="ticket-details">
                <div class="row">
                    <div class="col-md-6">
                        <h5>Thông tin vé</h5>
                        <p><strong>Mã vé:</strong> @Model.TicketCode</p>
                        <p><strong>Phim:</strong> @Model.MovieTitle</p>
                        <p><strong>Suất chiếu:</strong> @Model.Showtime.ToString("dd/MM/yyyy HH:mm")</p>
                        <p><strong>Phòng chiếu:</strong> @Model.RoomName</p>
                    </div>
                    <div class="col-md-6">
                        <h5>Thông tin khách hàng</h5>
                        <p><strong>Họ tên:</strong> @Model.CustomerName</p>
                        <p><strong>Số điện thoại:</strong> @Model.CustomerPhone</p>
                        <p><strong>Email:</strong> @Model.CustomerEmail</p>
                    </div>
                </div>

                <div class="row mt-3">
                    <div class="col-md-6">
                        <h5>Thông tin ghế</h5>
                        @if (Model.Seats != null && Model.Seats.Any())
                        {
                            foreach (var seat in Model.Seats)
                            {
                                <p><strong>Ghế:</strong> @seat.SeatCode</p>
                                <p><strong>Loại ghế:</strong> @seat.SeatType</p>
                                <p><strong>Giá:</strong> @seat.Price.ToString("N0") VND</p>
                            }
                        }
                    </div>
                    <div class="col-md-6">
                        <h5>Thông tin thanh toán</h5>
                        <p><strong>Phương thức:</strong> @Model.PaymentMethod</p>
                        <p><strong>Số tiền:</strong> @Model.TotalAmount.ToString("N0") VND</p>
                        <p><strong>Trạng thái:</strong> 
                            <partial name="_TicketStatusBadge" model="Model.Status" />
                        </p>
                        @if (Model.DiscountValue.HasValue)
                        {
                            <p><strong>Giảm giá:</strong> @Model.DiscountValue.Value%</p>
                        }
                    </div>
                </div>

                <div class="row mt-3">
                    <div class="col-12">
                        <h5>Thông tin bổ sung</h5>
                        <p><strong>Ngày đặt:</strong> @Model.CreatedAt.ToString("dd/MM/yyyy HH:mm")</p>
                        <p><strong>Định dạng:</strong> @Model.FormatName</p>
                        <p><strong>Rạp chiếu:</strong> @Model.CinemaName</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>